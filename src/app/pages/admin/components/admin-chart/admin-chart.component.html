<div class="w-full bg-[#F9FBFD] border-2 border-[#D1D9E2] rounded-[10px] h-[500px] relative">
  <div class="flex items-center justify-between">
    <p class="pl-10 py-3 font-bold">{{ headerText }}</p>
    <svg class="mr-[15px] cursor-pointer" (click)="isToggled = !isToggled" width="10" height="5" viewBox="0 0 10 5" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M5 5L0 0H10L5 5Z" fill="#5F6368"/>
    </svg>
  </div>

  @if(isToggled){
    <div class="absolute right-0 bg-white border-Dark-Blue border-1 px-3 py-1 mt-[-13px] rounded-[5px] shadow z-10">
      @for (option of options; track $index){
        <p (click)="onOptionSelected(option)" class="hover:underline cursor-pointer text-Primary-Blue">{{option}}</p>
      }
    </div>
  }
  <div class="w-full bg-[#D1D9E2] h-[2px]"></div>

  <div class="w-full h-[calc(100%-60px)] flex items-center">
    <div class="w-[60%] h-[80%] ">
      <canvas id="doughnutChart" class="w-full h-full ml-[20%]"></canvas>
    </div>
    <div class="w-[40%] pl-4">
      @for (item of chartData; track $index){
        <div class="flex items-center mb-4">
          <div class="w-4 h-4 rounded-full mr-2" [style.background-color]="colors[$index]"></div>
          <span class="mr-2">{{ item.label }}:</span>
          <span class="font-bold">{{ item.percentage }}</span>
        </div>
      }
    </div>
  </div>
</div>
